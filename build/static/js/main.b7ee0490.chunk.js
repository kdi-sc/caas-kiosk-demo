(this["webpackJsonpreact-fastfood-delivery-app"]=this["webpackJsonpreact-fastfood-delivery-app"]||[]).push([[0],{42:function(e,t,a){e.exports=a(78)},55:function(e,t,a){},56:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);a(43),a(44);var n=a(0),r=a.n(n),l=a(32),c=a(9),o=a(14),i=(a(55),a(56),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function s(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=a(7),m=a(8),d=a(11),f=a(10),p=a(4),v=a(39),E=a.n(v);var h=a(13);function g(e){return{type:"ADD_ITEMS",payload:e}}function b(e){return{type:"REMOVE_ITEMS",payload:e}}function N(e){return{type:"CHECKOUT_AND_RESET_SELECTION",payload:e}}var O={checkoutAlert:!1},y=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e,n){var r;return Object(u.a)(this,a),(r=t.call(this,e,n)).checkout=function(){r.setState({checkoutAlert:!0}),r.props.checkoutCurrentOrder()},r.removeItemFromCart=function(e){var t=Object(h.a)(r.props.selectedItems);t.splice(e,1),r.props.removeItemFromCart(t)},r.state=O,r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=0,a=this.props.selectedItems&&this.props.selectedItems.map((function(a,n){return t+=a.discountPrice,r.a.createElement("tr",{key:n},r.a.createElement("td",null,r.a.createElement("span",{className:"btn-remove",onClick:function(t){return e.removeItemFromCart(n)}},"x")),r.a.createElement("td",null,a.name),r.a.createElement("td",null," X "),r.a.createElement("td",null,"$"+a.discountPrice),r.a.createElement("td",null," = "),r.a.createElement("td",null,r.a.createElement("b",null,"$"+a.discountPrice)))}));return r.a.createElement("div",null,this.props.selectedItems&&this.props.selectedItems.length>0&&r.a.createElement("div",{className:"cart-container"},r.a.createElement("div",{className:"card-title"},"ORDER SUMMARY"),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("tbody",null,a)),r.a.createElement("br",null),r.a.createElement("div",{className:"cart-total"},"Total: $"+t),r.a.createElement("button",{onClick:function(t){return e.checkout()}},"CHECKOUT")),this.state.checkoutAlert&&r.a.createElement("div",{className:"cart-container"},r.a.createElement("div",{className:"success"},"Your order is on it's way and will be delivered in 30 minutes."),r.a.createElement("button",{onClick:function(t){return e.setState({checkoutAlert:!1})}},"PLACE NEW ORDER")))}}]),a}(n.Component);var T=Object(c.b)((function(e){return{selectedItems:e.CartReducer.selection}}),(function(e){return Object(p.b)({removeItemFromCart:b,checkoutCurrentOrder:N},e)}))(y);function C(e){return{type:"FILTER_ITEMS",payload:e}}var I=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-xs-3 col-md-3"},r.a.createElement("label",{htmlFor:"namefilter",className:"pull-left"},"Name:"),r.a.createElement("input",{name:"namefilter",type:"text",autoFocus:!0,placeholder:"Search",className:"inputBox",value:e.filterNameText?e.filterNameText:"",onChange:function(t){return e.handleFilteration(t,"name")}})),r.a.createElement("div",{className:"col col-xs-3 col-md-3"},r.a.createElement("label",{htmlFor:"categoryfilter",className:"pull-left"},"Category:"),r.a.createElement("select",{name:"categoryfilter",className:"inputBox",value:e.filterCategoryText?e.filterCategoryText:"",onChange:function(t){return e.handleFilteration(t,"category")}},r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"Burgers"},"Burgers"),r.a.createElement("option",{value:"Sandwiches"},"Sandwiches"),r.a.createElement("option",{value:"Pizzas"},"Pizzas"),r.a.createElement("option",{value:"Drinks"},"Drinks"))),r.a.createElement("div",{className:"col col-xs-3 col-md-3"},r.a.createElement("label",{htmlFor:"ratingfilter",className:"pull-left"},"Rating:"),r.a.createElement("select",{name:"ratingfilter",className:"inputBox",value:e.filterRatingText?e.filterRatingText:"",onChange:function(t){return e.handleFilteration(t,"rating")}},r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"1"},"\u2605"),r.a.createElement("option",{value:"2"},"\u2605\u2605"),r.a.createElement("option",{value:"3"},"\u2605\u2605\u2605"),r.a.createElement("option",{value:"4"},"\u2605\u2605\u2605\u2605"),r.a.createElement("option",{value:"5"},"\u2605\u2605\u2605\u2605\u2605"))),r.a.createElement("div",{className:"col col-xs-3 col-md-3"},r.a.createElement("label",{htmlFor:"pricefilter",className:"pull-left"},"Price:"),r.a.createElement("select",{name:"pricefilter",className:"inputBox",value:e.filterPriceText?e.filterPriceText:"",onChange:function(t){return e.handleFilteration(t,"price")}},r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"0,10"},"$0 - $10"),r.a.createElement("option",{value:"20,30"},"$20 - $30"),r.a.createElement("option",{value:"30,40"},"$30 - $40"),r.a.createElement("option",{value:"40,50"},"$40 - $50"),r.a.createElement("option",{value:"50,"},"$50+"))))},x={allItems:[],filteredItems:[],filterNameText:"",filterCategoryText:"",filterRatingText:"",filterPriceText:""},j=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e,n){var r;return Object(u.a)(this,a),(r=t.call(this,e,n)).handleFilteration=function(e,t){var a=e.target.value,n=r.state.filterCategoryText,l=r.state.filterRatingText,c=r.state.filterNameText,o=r.state.filterPriceText,i=Object(h.a)(r.state.allItems)||[];"category"===t?n=a:"rating"===t?l=a:"price"===t?o=a:c=a,(i=i.filter((function(e){var t=!0;return""!==n&&(t=e.categoryName===n),t}))).forEach((function(e,t){var a=e.items.filter((function(e){var t=!0;if(t&&""!==l&&(t=e.rating===l),t&&""!==o){var a=r.calculatePrice(e.price,e.discount);t=a>o.split(",")[0]&&o.split(",")[1]&&a<=o.split(",")[1]}return t&&""!==c&&(t=e.name.toLowerCase().search(c.toLowerCase())>-1),t}));e.items=a,i[t]=e})),r.setState({filterNameText:c,filterCategoryText:n,filterRatingText:l,filterPriceText:o,filteredItems:i}),r.props.filterItems(i)},r.calculatePrice=function(e,t){return e-Number(e)*Number(t)/100},r.state=x,r}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.items&&e.items.length>0&&this.setState({allItems:JSON.parse(JSON.stringify(e.items)),filteredItems:JSON.parse(JSON.stringify(e.filteredItems))})}},{key:"render",value:function(){return r.a.createElement(I,{filterCategoryText:this.state.filterCategoryText,filterRatingText:this.state.filterRatingText,filterNameText:this.state.filterNameText,filterPriceText:this.state.filterPriceText,handleFilteration:this.handleFilteration})}}]),a}(n.Component);var w=Object(c.b)((function(e){return{items:e.DashboardReducer.items,filteredItems:e.DashboardReducer.filteredItems}}),(function(e){return Object(p.b)({filterItems:C},e)}))(j),k=a(40),S=a.n(k),R=function(e){var t=e.data,a=e.addToCart,n=Number(t.price),l=Number(t.discount),c=n-Number(n)*Number(l)/100;return t.discountPrice=c,r.a.createElement("div",{className:"col-xs-12 col-md-12 card-container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-block"},r.a.createElement("span",{className:"card-title"},t.name),r.a.createElement("br",null),r.a.createElement(S.a,{name:"rating",starCount:5,value:Number(t.rating)}),r.a.createElement("br",null),t.discount>0?r.a.createElement("div",null,"Price - ",r.a.createElement("span",{className:"card-price discounted-price"},"$"+c)):r.a.createElement("span",{className:"card-price"},"Price - $"+t.price),r.a.createElement("hr",null),r.a.createElement("span",{className:"ingredients"},"Ingredients: "+t.ingredients.toString()))),r.a.createElement("button",{onClick:function(e){return a(t)}},"ADD"))},F=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).addToSelection=function(t){(0,e.props.addItemToSelection)([].concat(Object(h.a)(e.props.selectedItems),[t]))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.filteredItems,a=t&&t.map((function(t,a){var n=t&&t.items.map((function(t){return r.a.createElement(R,{data:t,key:t.id,addToCart:e.addToSelection})}));return r.a.createElement("div",{key:a,className:"col-lg-3 col-md-3 col-sm-6 col-xs-12"},r.a.createElement("h2",{className:"category"},t.categoryName),n)}));return r.a.createElement(n.Fragment,null,a)}}]),a}(n.Component);var D=Object(c.b)((function(e){return{filteredItems:e.DashboardReducer.filteredItems,selectedItems:e.CartReducer.selection}}),(function(e){return Object(p.b)({addItemToSelection:g},e)}))(F);function A(e){return{type:"LOAD_FOOD_ITEMS",payload:e}}var P=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.get("https://content-hub-cdn.azureedge.net/wawa-menu-34058.json",{headers:{"Access-Control-Allow-Origin":"https://sitecore-kiosk-demo.herokuapp.com/"}}).then((function(t){var a=t.data;e.props.loadFoodItems(a.menu),e.props.filterMenu(a.menu)})).catch((function(t){console.log(t),e.props.loadFoodItems([]),e.props.filterMenu([])}))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col col-md-12 col-xs-12 filter-container"},r.a.createElement(w,null)),r.a.createElement("div",{className:"col col-md-9 col-xs-8 menu-container"},r.a.createElement(D,null)),r.a.createElement("div",{className:"col col-md-3 col-xs-4 summary-container"},r.a.createElement(T,null)))}}]),a}(n.Component);var _=Object(c.b)(null,(function(e){return Object(p.b)({loadFoodItems:A,filterMenu:C},e)}))(P),M=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("a",{class:"logo",href:"/",title:"Wawa Logo"},"\xa0")),r.a.createElement(_,null))}}]),a}(n.Component),$=function(){return r.a.createElement("div",null,r.a.createElement("main",null,r.a.createElement(o.c,null,r.a.createElement(o.b,{exact:!0,path:"/",component:M}))))},L=a(41);var B=Object(p.c)({DashboardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],filteredItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_FOOD_ITEMS":return Object.assign({},e,{items:t.payload});case"FILTER_ITEMS":return Object.assign({},e,{filteredItems:t.payload});default:return e}},CartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selection:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEMS":case"REMOVE_ITEMS":return Object.assign({},e,{selection:t.payload});case"CHECKOUT_AND_RESET_SELECTION":return Object.assign({},e,{selection:[]});default:return e}}}),W=[Object(L.createLogger)({collapsed:!0})],J=p.d.apply(void 0,[p.a.apply(void 0,W)].concat([])),z=Object(p.e)(B,{},J);window._app_container=document.getElementById("root"),Object(l.render)(r.a.createElement(c.a,{store:z},r.a.createElement(o.a,null,r.a.createElement("div",{className:"fluidContainer"},r.a.createElement($,null)))),window._app_container),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");i?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):s(e)}))}}()}},[[42,1,2]]]);
//# sourceMappingURL=main.b7ee0490.chunk.js.map